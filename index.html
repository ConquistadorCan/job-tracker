<!doctype html>
<html lang="en" style="font-size: 18px">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JAT — Job Application Tracker</title>

    <link rel="icon" type="image/png" href="assets/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style type="text/tailwindcss">
      @theme {
        --color-cb-50: #f1f5fd;
        --color-cb-100: #dfe8fa;
        --color-cb-200: #c5d7f8;
        --color-cb-300: #9ebef2;
        --color-cb-400: #709cea;
        --color-cb-500: #4e79e3;
        --color-cb-600: #395cd7;
        --color-cb-700: #3049c4;
        --color-cb-800: #2d3da0;
        --color-cb-900: #29377f;
        --color-cb-950: #1d234e;

        --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
      }

      .badge {
        @apply inline-flex items-center whitespace-nowrap gap-1 px-2.5 py-0.5 rounded-full text-xs font-semibold;
      }
      .badge-pending {
        @apply bg-amber-100 text-amber-700;
      }
      .badge-accepted {
        @apply bg-emerald-100 text-emerald-700;
      }
      .badge-rejected {
        @apply bg-red-100 text-red-700;
      }
      .badge-interview {
        @apply bg-purple-100 text-purple-700;
      }

      .badge-remote {
        @apply bg-sky-100 text-sky-700;
      }
      .badge-onsite {
        @apply bg-orange-100 text-orange-700;
      }
      .badge-hybrid {
        @apply bg-teal-100 text-teal-700;
      }
    </style>
  </head>

  <body
    class="font-sans bg-gradient-to-br from-cb-50 to-cb-100 min-h-screen text-cb-950"
  >
    <div class="max-w-5xl mx-auto px-4 py-4 sm:px-6 sm:py-8">
      <header
        class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-6 sm:mb-8 bg-white rounded-2xl shadow-sm border border-cb-100 px-4 py-4 sm:px-6"
      >
        <div class="flex items-center justify-between gap-3">
          <img src="assets/logo.svg" alt="JAT" class="h-10 sm:h-14 w-auto" />

          <div class="relative flex items-center gap-3 sm:hidden">
            <div class="relative">
              <button
                id="btn-lang"
                class="cursor-pointer hover:opacity-70 transition duration-150 flex items-center gap-1 border border-cb-200 rounded-full px-3 py-1 bg-white"
              >
                <span
                  id="lang-label"
                  class="text-xs font-medium text-cb-600"
                >
                  EN
                </span>
                <div class="w-5 h-3 overflow-hidden rounded-sm">
                  <img
                    id="lang-flag"
                    src="https://flagcdn.com/gb.svg"
                    alt="EN"
                    class="w-full h-full object-cover"
                  />
                </div>
                <span class="text-[10px] text-cb-300">▾</span>
              </button>
              <div
                id="lang-options"
                class="hidden absolute right-0 mt-1 bg-white border border-cb-100 rounded-xl shadow-lg z-50 text-xs min-w-[120px]"
              ></div>
            </div>
            <a
              href="settings.html"
              class="text-cb-300 hover:text-cb-600 transition duration-150 text-2xl"
            >
              ⚙️
            </a>
          </div>
        </div>

        <div class="flex gap-1 justify-center sm:justify-start">
          <div class="px-4 py-2 text-center">
            <p
              id="stat-total-label"
              class="text-xs text-cb-400 font-medium tracking-wider"
            >
              Total
            </p>
            <p id="stat-total" class="text-2xl font-extrabold text-cb-700">—</p>
          </div>
          <div class="w-px bg-cb-100"></div>
          <div class="px-4 py-2 text-center">
            <p
              id="stat-interviews-label"
              class="text-xs text-purple-400 font-medium tracking-wider"
            >
              Interviews
            </p>
            <p
              id="stat-interviews"
              class="text-2xl font-extrabold text-purple-600"
            >
              —
            </p>
          </div>
          <div class="w-px bg-cb-100"></div>
          <div class="px-4 py-2 text-center">
            <p
              id="stat-rejected-label"
              class="text-xs text-red-400 font-medium tracking-wider"
            >
              Rejected
            </p>
            <p id="stat-rejected" class="text-2xl font-extrabold text-red-500">
              —
            </p>
          </div>
        </div>

        <div class="relative hidden sm:flex items-center gap-3">
          <div class="relative">
            <button
              id="btn-lang"
              class="cursor-pointer hover:opacity-70 transition duration-150 flex items-center gap-1 border border-cb-200 rounded-full px-3 py-1 bg-white"
            >
              <span
                id="lang-label"
                class="text-xs font-medium text-cb-600"
              >
                EN
              </span>
              <div class="w-5 h-3 overflow-hidden rounded-sm">
                <img
                  id="lang-flag"
                  src="https://flagcdn.com/gb.svg"
                  alt="EN"
                  class="w-full h-full object-cover"
                />
              </div>
              <span class="text-[10px] text-cb-300">▾</span>
            </button>
            <div
              id="lang-options"
              class="hidden absolute right-0 mt-1 bg-white border border-cb-100 rounded-xl shadow-lg z-50 text-xs min-w-[120px]"
            ></div>
          </div>
          <a
            href="settings.html"
            class="text-cb-300 hover:text-cb-600 transition duration-150 text-2xl"
          >
            ⚙️
          </a>
        </div>
      </header>

      <main class="bg-white rounded-2xl shadow-sm border border-cb-100">
        <div
          class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-4 sm:px-6 py-4 border-b border-cb-100"
        >
          <h2
            id="table-title"
            class="font-semibold text-lg sm:text-xl text-cb-800"
          >
            Applications
          </h2>
          <div class="flex items-center gap-3 w-full md:w-auto">
            <div class="relative flex items-center flex-1 md:flex-none">
              <input
                id="search-input"
                type="text"
                placeholder="Search by company..."
                class="w-full md:w-56 border border-cb-200 rounded-lg px-3 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
              />
              <button
                id="search-clear"
                class="hidden absolute right-2 text-slate-400 hover:text-slate-600 cursor-pointer"
              >
                X
              </button>
            </div>
          </div>
          <div class="flex flex-wrap gap-2 justify-end">
            <div class="relative w-full sm:w-auto">
              <select
                id="filter-status"
                class="w-full appearance-none border border-cb-200 text-cb-600 rounded-lg px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400 cursor-pointer"
              >
                <option value="">All Status</option>
                <option value="pending">Pending</option>
                <option value="interview">Interview</option>
                <option value="accepted">Accepted</option>
                <option value="rejected">Rejected</option>
              </select>
              <span
                class="absolute right-3 top-1/2 -translate-y-1/2 text-cb-400 pointer-events-none text-xs"
                >▾</span
              >
            </div>
            <button
              id="btn-add"
              class="bg-cb-600 text-white hover:bg-cb-700 font-semibold rounded-lg px-4 py-2 text-sm transition duration-150 cursor-pointer w-full sm:w-auto text-center"
            >
              + Add
            </button>
          </div>
        </div>

        <div class="overflow-x-auto">
          <table class="w-full text-left text-xs sm:text-sm">
            <thead>
              <tr
                class="text-cb-500 text-xs tracking-widest border-b border-cb-100 bg-cb-50/50"
              >
                <th
                  id="sort-company"
                  class="py-3 px-6 font-semibold cursor-pointer hover:text-cb-700"
                >
                  <span id="col-company">Company</span>
                  <span id="sort-company-icon">↕</span>
                </th>
                <th id="col-position" class="py-3 px-6 font-semibold">
                  Position
                </th>
                <th
                  id="sort-date"
                  class="py-3 px-6 font-semibold cursor-pointer hover:text-cb-700"
                >
                  <span id="col-dateApplied">Date Applied</span>
                  <span id="sort-date-icon">↕</span>
                </th>
                <th id="col-city" class="py-3 px-6 font-semibold">City</th>
                <th id="col-jobType" class="py-3 px-6 font-semibold">
                  Job Type
                </th>
                <th id="col-salary" class="py-3 px-6 font-semibold">
                  Expected Salary
                </th>
                <th id="col-status" class="py-3 px-6 font-semibold">Status</th>
              </tr>
            </thead>

            <tbody
              id="table-body"
              class="[&_tr]:border-b [&_tr]:border-cb-50 [&_tr]:transition [&_tr]:duration-150 [&_tr:hover]:bg-cb-50/60"
            ></tbody>
          </table>
        </div>

        <div class="px-4 sm:px-6 py-3 border-t border-cb-50 text-xs text-slate-400">
          <span id="table-counter">—</span>
        </div>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="js/config.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/translations.js"></script>
    <script src="js/util.js"></script>
    <script src="js/applications.js"></script>

    <div
      id="modal"
      class="hidden fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-2"
    >
      <div
        class="bg-white rounded-2xl shadow-xl w-full max-w-md max-h-[90vh] overflow-y-auto mx-auto p-4 sm:p-6"
      >
        <div class="flex items-center justify-between mb-6">
          <h3 id="modal-title" class="font-bold text-lg text-cb-800">
            New Application
          </h3>
          <button
            id="modal-close"
            class="text-slate-400 hover:text-slate-600 cursor-pointer"
          >
            ✕
          </button>
        </div>

        <div class="flex flex-col gap-4">
          <input
            id="field-company"
            type="text"
            placeholder="Company"
            class="border border-cb-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
          />
          <p id="error-company" class="hidden text-xs text-red-500 mt-1">
            Company is required.
          </p>

          <input
            id="field-position"
            type="text"
            placeholder="Position"
            list="position-datalist"
            class="border border-cb-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
          />
          <datalist id="position-datalist"></datalist>
          <p id="error-position" class="hidden text-xs text-red-500 mt-1">
            Position is required.
          </p>

          <input
            id="field-date"
            type="date"
            class="border border-cb-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
          />
          <p id="error-date" class="hidden text-xs text-red-500 mt-1">
            Date is required.
          </p>

          <input
            id="field-city"
            type="text"
            placeholder="City"
            list="city-datalist"
            class="border border-cb-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
          />
          <datalist id="city-datalist"></datalist>

          <select
            id="field-jobtype"
            class="border border-cb-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
          >
            <option value="remote">Remote</option>
            <option value="onsite" selected>Onsite</option>
            <option value="hybrid">Hybrid</option>
          </select>

          <div class="flex gap-2">
            <input
              id="field-salary"
              type="number"
              placeholder="Expected Salary"
              class="border border-cb-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
            />
            <select
              id="field-currency"
              class="border border-cb-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
            >
              <option value="TRY">₺ TRY</option>
              <option value="USD">$ USD</option>
              <option value="EUR">€ EUR</option>
            </select>
          </div>

          <select
            id="field-status"
            class="border border-cb-200 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-cb-400"
          >
            <option value="pending">Pending</option>
            <option value="interview">Interview</option>
            <option value="accepted">Accepted</option>
            <option value="rejected">Rejected</option>
          </select>

          <button
            id="modal-submit"
            class="bg-cb-600 text-white font-semibold rounded-lg px-4 py-2 text-sm hover:bg-cb-700 transition duration-150 cursor-pointer"
          >
            Save Application
          </button>
        </div>
      </div>
    </div>

    <div
      id="confirm-modal"
      class="hidden fixed inset-0 bg-black/40 flex items-center justify-center z-50 px-2"
    >
      <div
        class="bg-white rounded-2xl shadow-xl w-full max-w-sm max-h-[80vh] overflow-y-auto mx-auto p-4 sm:p-6"
      >
        <h3 id="confirm-title" class="font-bold text-lg text-cb-800 mb-2">
          Delete Application
        </h3>
        <p id="confirm-message" class="text-sm text-slate-500 mb-6">
          Are you sure you want to delete this application? This action cannot
          be undone.
        </p>
        <div class="flex gap-3 justify-end">
          <button
            id="confirm-cancel"
            class="border border-cb-200 text-cb-600 hover:bg-cb-50 rounded-lg px-4 py-2 text-sm font-medium transition duration-150 cursor-pointer"
          >
            Cancel
          </button>
          <button
            id="confirm-delete"
            class="bg-red-500 text-white hover:bg-red-600 font-semibold rounded-lg px-4 py-2 text-sm transition duration-150 cursor-pointer"
          >
            Delete
          </button>
        </div>
      </div>
    </div>

    <button
      id="scroll-top"
      class="opacity-0 transition fixed bottom-6 right-6 bg-cb-600 text-white rounded-full w-10 h-10 shadow-lg hover:bg-cb-700 transition duration-150 cursor-pointer text-lg"
    >
      ↑
    </button>
  </body>
</html>
